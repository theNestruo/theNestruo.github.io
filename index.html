<!DOCTYPE html>
<html lang="en">

  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@NestorSancho</title>

    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">

    <!-- Water.css -->
    <link rel="stylesheet" id="waterStylesheet" href="https://cdn.jsdelivr.net/npm/water.css@2/out/water.min.css">

    <!-- Main CSS -->
    <link rel="stylesheet" href="./index.css">

    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
  </head>

  <body>
    <header>
      <a id="btnDark" class="hidden hidden-dark" href="#" onclick="return onBtnDarkClick();"><i class="bi-moon-fill"></i></a>
      <a id="btnLight" class="hidden hidden-light" href="#" onclick="return onBtnLightClick();"><i class="bi-sun-fill"></i></a>
      <h1>N&eacute;stor Sancho
        <small>(theNestruo)</small></h1>
      <p>Great stories start with
        <code>di</code>/<code>im 1</code>/<code>ld sp, $f380</code>
        <small><i>#msx</i>
          <i>#assembly</i>
          <i>#z80</i></small></p>
    </header>

    <br>

    <details>
      <summary>Precompression tools
          <small><a id="link-2026-01-04" href="#link-2026-01-04"><i class="bi-share-fill"></i> Jan 4, 2026</a></small>
      </summary>

      <p>As already hinted in the <a href="#link-2025-12-09">lastest post</a> about
        <a href="https://github.com/theNestruo/pcxtools">github.com/theNestruo/pcxtools</a>,
        several optimization algorithms to improve charset compression ratios have been implemented and measured.</p>
      <p>As PCXTOOLS are coded in C, and its code is not well-suited to implement those algorithms,
        they have been implemented as a separate command line application instead of embedding them in PCXTOOLS.
        PCXTOOLS will keep the optimization flag (<code>-o</code>), despite it can be considered superseded.</p>
      <p>This way, they can be used with already converted data, or with data created with any other conversion tool.</p>
      <p><br>The lastest post lacked a visual explanation on why this optimizations are possible and how do they work.
        Let&apos;s fix it by using some of the 16x16 tiles of the original freeware version of
        <a href="https://ninjasenki.com/">Ninja Senki</a> (&copy; 2010 Jonathan Lavigne)
        as an example.</p>
      <p><br>The typical output of <em>PNG2MSX</em> would be as follows:</p>
      <table class="precompression-table">
        <thead>
          <tr><th>Image</th><th><small>CHRTBL</small></th><th colspan="2"><small>CLRTBL</small></th><th><small>CHRTBL</small></th><th colspan="2"><small>CLRTBL</small></th></tr>
        </thead>
        <tbody>
          <tr><td rowspan=32><img src="./images/Precompression-example.png"></td>
              <td>0000&nbsp;0000</td><td class="color-0">0</td><td class="color-4">4</td> <td>0000&nbsp;0000</td><td class="color-0">0</td><td class="color-4">4</td></tr>
          <tr><td>0000&nbsp;0100</td><td class="color-1">1</td><td class="color-4">4</td> <td>0000&nbsp;0000</td><td class="color-0">0</td><td class="color-4">4</td></tr>
          <tr><td>0000&nbsp;0000</td><td class="color-0">0</td><td class="color-4">4</td> <td>0000&nbsp;0000</td><td class="color-0">0</td><td class="color-4">4</td></tr>
          <tr><td>0000&nbsp;0100</td><td class="color-1">1</td><td class="color-4">4</td> <td>0000&nbsp;0000</td><td class="color-0">0</td><td class="color-4">4</td></tr>
          <tr><td>1111&nbsp;0000</td><td class="color-4">4</td><td class="color-1">1</td> <td>1111&nbsp;1000</td><td class="color-1">1</td><td class="color-4">4</td></tr>
          <tr><td>1111&nbsp;1000</td><td class="color-4">4</td><td class="color-5">5</td> <td>0010&nbsp;0000</td><td class="color-1">1</td><td class="color-4">4</td></tr>
          <tr><td>0000&nbsp;0000</td><td class="color-0">0</td><td class="color-4">4</td> <td>0010&nbsp;0000</td><td class="color-1">1</td><td class="color-4">4</td></tr>
          <tr><td>0000&nbsp;0000</td><td class="color-0">0</td><td class="color-4">4</td> <td>0010&nbsp;0000</td><td class="color-1">1</td><td class="color-4">4</td></tr>
          <tr><td>0100&nbsp;0000</td><td class="color-4">4</td><td class="color-1">1</td> <td>1111&nbsp;1110</td><td class="color-1">1</td><td class="color-4">4</td></tr>
          <tr><td>0000&nbsp;0100</td><td class="color-1">1</td><td class="color-4">4</td> <td>1111&nbsp;1100</td><td class="color-5">5</td><td class="color-4">4</td></tr>
          <tr><td>0000&nbsp;0100</td><td class="color-1">1</td><td class="color-4">4</td> <td>0000&nbsp;0000</td><td class="color-0">0</td><td class="color-4">4</td></tr>
          <tr><td>0000&nbsp;0100</td><td class="color-1">1</td><td class="color-4">4</td> <td>0000&nbsp;0000</td><td class="color-0">0</td><td class="color-4">4</td></tr>
          <tr><td>1111&nbsp;0000</td><td class="color-4">4</td><td class="color-1">1</td> <td>1111&nbsp;0100</td><td class="color-1">1</td><td class="color-4">4</td></tr>
          <tr><td>0000&nbsp;0000</td><td class="color-0">0</td><td class="color-4">4</td> <td>0010&nbsp;0000</td><td class="color-1">1</td><td class="color-4">4</td></tr>
          <tr><td>0000&nbsp;0000</td><td class="color-0">0</td><td class="color-4">4</td> <td>0000&nbsp;0000</td><td class="color-0">0</td><td class="color-4">4</td></tr>
          <tr><td>0000&nbsp;0000</td><td class="color-0">0</td><td class="color-4">4</td> <td>0000&nbsp;0000</td><td class="color-0">0</td><td class="color-4">4</td></tr>
          <!-- -->
          <tr><td>0000&nbsp;0000</td><td class="color-0">0</td><td class="color-1">1</td> <td>0000&nbsp;0000</td><td class="color-0">0</td><td class="color-1">1</td></tr>
          <tr><td>0000&nbsp;0000</td><td class="color-0">0</td><td class="color-c">c</td> <td>0000&nbsp;0000</td><td class="color-0">0</td><td class="color-c">c</td></tr>
          <tr><td>0000&nbsp;0000</td><td class="color-0">0</td><td class="color-f">f</td> <td>0000&nbsp;0000</td><td class="color-0">0</td><td class="color-f">f</td></tr>
          <tr><td>0000&nbsp;0000</td><td class="color-0">0</td><td class="color-3">3</td> <td>0000&nbsp;0000</td><td class="color-0">0</td><td class="color-3">3</td></tr>
          <tr><td>0000&nbsp;0000</td><td class="color-0">0</td><td class="color-3">3</td> <td>0000&nbsp;0000</td><td class="color-0">0</td><td class="color-3">3</td></tr>
          <tr><td>0000&nbsp;0000</td><td class="color-0">0</td><td class="color-3">3</td> <td>0000&nbsp;0000</td><td class="color-0">0</td><td class="color-3">3</td></tr>
          <tr><td>0000&nbsp;0000</td><td class="color-0">0</td><td class="color-3">3</td> <td>0011&nbsp;1100</td><td class="color-3">3</td><td class="color-c">c</td></tr>
          <tr><td>0111&nbsp;1110</td><td class="color-3">3</td><td class="color-c">c</td> <td>0001&nbsp;1000</td><td class="color-3">3</td><td class="color-c">c</td></tr>
          <tr><td>0011&nbsp;1100</td><td class="color-3">3</td><td class="color-c">c</td> <td>0011&nbsp;1100</td><td class="color-c">c</td><td class="color-3">3</td></tr>
          <tr><td>0110&nbsp;0110</td><td class="color-c">c</td><td class="color-3">3</td> <td>0001&nbsp;1000</td><td class="color-c">c</td><td class="color-3">3</td></tr>
          <tr><td>0011&nbsp;1100</td><td class="color-c">c</td><td class="color-3">3</td> <td>0011&nbsp;1100</td><td class="color-3">3</td><td class="color-c">c</td></tr>
          <tr><td>0110&nbsp;0110</td><td class="color-3">3</td><td class="color-c">c</td> <td>0001&nbsp;1000</td><td class="color-3">3</td><td class="color-c">c</td></tr>
          <tr><td>0011&nbsp;1100</td><td class="color-3">3</td><td class="color-c">c</td> <td>0000&nbsp;0000</td><td class="color-0">0</td><td class="color-c">c</td></tr>
          <tr><td>0001&nbsp;1000</td><td class="color-3">3</td><td class="color-c">c</td> <td>0000&nbsp;0000</td><td class="color-0">0</td><td class="color-c">c</td></tr>
          <tr><td>0000&nbsp;0000</td><td class="color-0">0</td><td class="color-c">c</td> <td>0000&nbsp;0000</td><td class="color-0">0</td><td class="color-c">c</td></tr>
          <tr><td>0000&nbsp;0000</td><td class="color-0">0</td><td class="color-1">1</td> <td>0000&nbsp;0000</td><td class="color-0">0</td><td class="color-1">1</td></tr>
        </tbody>
      </table>
      <p><br>Actual output may vary depending on the particular conversion tool and/or the parameters used
        (e.g.: PCXTOOLS have flags to control how the patterns will be generated).</p>
      <p>Variations are possible because each line can be, for example, inverted. The foreground and background colors
        can be swapped and the pattern negated and the line would still render as the same visual image.</p>
      <p>But variations are also possible also because, ocassionally, there are unused values.
        Lines with all bits set (or reset) will only use one of the color, either foreground or background,
        and the other color can take any value without altering the rendered image.
        Similarly, lines with both colors set to the same value can take any value in their pattern
        and the rendered image will be the same.</p>
      <p>In PCXTOOLS, values that do not contribute to the rendering the image are given the unused value of 0.
        Highlighted in the example output:</p>
      <table class="precompression-table">
        <thead>
          <tr><th>Image</th><th><small>CHRTBL</small></th><th colspan="2"><small>CLRTBL</small></th><th><small>CHRTBL</small></th><th colspan="2"><small>CLRTBL</small></th></tr>
        </thead>
        <tbody>
          <tr><td rowspan=32><img src="./images/Precompression-example.png"></td>
              <td>0000&nbsp;0000</td><td class="ignored">0</td><td class="color-4">4</td> <td>0000&nbsp;0000</td><td class="ignored">0</td><td class="color-4">4</td></tr>
          <tr><td>0000&nbsp;0100</td><td class="color-1">1</td><td class="color-4">4</td> <td>0000&nbsp;0000</td><td class="ignored">0</td><td class="color-4">4</td></tr>
          <tr><td>0000&nbsp;0000</td><td class="ignored">0</td><td class="color-4">4</td> <td>0000&nbsp;0000</td><td class="ignored">0</td><td class="color-4">4</td></tr>
          <tr><td>0000&nbsp;0100</td><td class="color-1">1</td><td class="color-4">4</td> <td>0000&nbsp;0000</td><td class="ignored">0</td><td class="color-4">4</td></tr>
          <tr><td>1111&nbsp;0000</td><td class="color-4">4</td><td class="color-1">1</td> <td>1111&nbsp;1000</td><td class="color-1">1</td><td class="color-4">4</td></tr>
          <tr><td>1111&nbsp;1000</td><td class="color-4">4</td><td class="color-5">5</td> <td>0010&nbsp;0000</td><td class="color-1">1</td><td class="color-4">4</td></tr>
          <tr><td>0000&nbsp;0000</td><td class="ignored">0</td><td class="color-4">4</td> <td>0010&nbsp;0000</td><td class="color-1">1</td><td class="color-4">4</td></tr>
          <tr><td>0000&nbsp;0000</td><td class="ignored">0</td><td class="color-4">4</td> <td>0010&nbsp;0000</td><td class="color-1">1</td><td class="color-4">4</td></tr>
          <tr><td>0100&nbsp;0000</td><td class="color-4">4</td><td class="color-1">1</td> <td>1111&nbsp;1110</td><td class="color-1">1</td><td class="color-4">4</td></tr>
          <tr><td>0000&nbsp;0100</td><td class="color-1">1</td><td class="color-4">4</td> <td>1111&nbsp;1100</td><td class="color-5">5</td><td class="color-4">4</td></tr>
          <tr><td>0000&nbsp;0100</td><td class="color-1">1</td><td class="color-4">4</td> <td>0000&nbsp;0000</td><td class="ignored">0</td><td class="color-4">4</td></tr>
          <tr><td>0000&nbsp;0100</td><td class="color-1">1</td><td class="color-4">4</td> <td>0000&nbsp;0000</td><td class="ignored">0</td><td class="color-4">4</td></tr>
          <tr><td>1111&nbsp;0000</td><td class="color-4">4</td><td class="color-1">1</td> <td>1111&nbsp;0100</td><td class="color-1">1</td><td class="color-4">4</td></tr>
          <tr><td>0000&nbsp;0000</td><td class="ignored">0</td><td class="color-4">4</td> <td>0010&nbsp;0000</td><td class="color-1">1</td><td class="color-4">4</td></tr>
          <tr><td>0000&nbsp;0000</td><td class="ignored">0</td><td class="color-4">4</td> <td>0000&nbsp;0000</td><td class="ignored">0</td><td class="color-4">4</td></tr>
          <tr><td>0000&nbsp;0000</td><td class="ignored">0</td><td class="color-4">4</td> <td>0000&nbsp;0000</td><td class="ignored">0</td><td class="color-4">4</td></tr>
          <!-- -->
          <tr><td>0000&nbsp;0000</td><td class="ignored">0</td><td class="color-1">1</td> <td>0000&nbsp;0000</td><td class="ignored">0</td><td class="color-1">1</td></tr>
          <tr><td>0000&nbsp;0000</td><td class="ignored">0</td><td class="color-c">c</td> <td>0000&nbsp;0000</td><td class="ignored">0</td><td class="color-c">c</td></tr>
          <tr><td>0000&nbsp;0000</td><td class="ignored">0</td><td class="color-f">f</td> <td>0000&nbsp;0000</td><td class="ignored">0</td><td class="color-f">f</td></tr>
          <tr><td>0000&nbsp;0000</td><td class="ignored">0</td><td class="color-3">3</td> <td>0000&nbsp;0000</td><td class="ignored">0</td><td class="color-3">3</td></tr>
          <tr><td>0000&nbsp;0000</td><td class="ignored">0</td><td class="color-3">3</td> <td>0000&nbsp;0000</td><td class="ignored">0</td><td class="color-3">3</td></tr>
          <tr><td>0000&nbsp;0000</td><td class="ignored">0</td><td class="color-3">3</td> <td>0000&nbsp;0000</td><td class="ignored">0</td><td class="color-3">3</td></tr>
          <tr><td>0000&nbsp;0000</td><td class="ignored">0</td><td class="color-3">3</td> <td>0011&nbsp;1100</td><td class="color-3">3</td><td class="color-c">c</td></tr>
          <tr><td>0111&nbsp;1110</td><td class="color-3">3</td><td class="color-c">c</td> <td>0001&nbsp;1000</td><td class="color-3">3</td><td class="color-c">c</td></tr>
          <tr><td>0011&nbsp;1100</td><td class="color-3">3</td><td class="color-c">c</td> <td>0011&nbsp;1100</td><td class="color-c">c</td><td class="color-3">3</td></tr>
          <tr><td>0110&nbsp;0110</td><td class="color-c">c</td><td class="color-3">3</td> <td>0001&nbsp;1000</td><td class="color-c">c</td><td class="color-3">3</td></tr>
          <tr><td>0011&nbsp;1100</td><td class="color-c">c</td><td class="color-3">3</td> <td>0011&nbsp;1100</td><td class="color-3">3</td><td class="color-c">c</td></tr>
          <tr><td>0110&nbsp;0110</td><td class="color-3">3</td><td class="color-c">c</td> <td>0001&nbsp;1000</td><td class="color-3">3</td><td class="color-c">c</td></tr>
          <tr><td>0011&nbsp;1100</td><td class="color-3">3</td><td class="color-c">c</td> <td>0000&nbsp;0000</td><td class="ignored">0</td><td class="color-c">c</td></tr>
          <tr><td>0001&nbsp;1000</td><td class="color-3">3</td><td class="color-c">c</td> <td>0000&nbsp;0000</td><td class="ignored">0</td><td class="color-c">c</td></tr>
          <tr><td>0000&nbsp;0000</td><td class="ignored">0</td><td class="color-c">c</td> <td>0000&nbsp;0000</td><td class="ignored">0</td><td class="color-c">c</td></tr>
          <tr><td>0000&nbsp;0000</td><td class="ignored">0</td><td class="color-1">1</td> <td>0000&nbsp;0000</td><td class="ignored">0</td><td class="color-1">1</td></tr>
        </tbody>
      </table>
      <p><br>By carefully chosing the variation and the unused value to set, it is possible to reduce
        the count of different values in the color table (CLRTBL) and to create longer chunks of repeated values.</p>
      <p>Data with these characteristics is likely to yield better compression ratios
        in either RLE-based compression algorithms or dictionary coders compression algorithms
        (such as <a href="https://github.com/einar-saukas"> Einar Saukas'</a>
        <a href="https://github.com/einar-saukas/ZX0">ZX0</a>).</p>
      <p>The values of the example output can be modified to the CLRTBL value count is reduced to 4 values
        (just <code>0x14</code> and <code>0x54</code> for the first tile,
        and <code>0x1f</code> and <code>0x3c</code> for the second tile),
        and also create chunks of consecutive repetitions of the same value.
        Without altering the rendered image:</p>
      <table class="precompression-table">
        <thead>
          <tr><th>Image</th><th><small>CHRTBL</small></th><th colspan="2"><small>CLRTBL</small></th><th><small>CHRTBL</small></th><th colspan="2"><small>CLRTBL</small></th></tr>
        </thead>
        <tbody>
          <tr><td rowspan=32><img src="./images/Precompression-example.png"></td>
              <td>0000&nbsp;0000</td><td class="ignored">1</td><td class="color-4">4</td> <td>0000&nbsp;0000</td><td class="ignored">1</td><td class="color-4">4</td></tr>
          <tr><td>0000&nbsp;0100</td><td class="color-1">1</td><td class="color-4">4</td> <td>0000&nbsp;0000</td><td class="ignored">1</td><td class="color-4">4</td></tr>
          <tr><td>0000&nbsp;0000</td><td class="ignored">1</td><td class="color-4">4</td> <td>0000&nbsp;0000</td><td class="ignored">1</td><td class="color-4">4</td></tr>
          <tr><td>0000&nbsp;0100</td><td class="color-1">1</td><td class="color-4">4</td> <td>0000&nbsp;0000</td><td class="ignored">1</td><td class="color-4">4</td></tr>
          <tr><td>0000&nbsp;1111</td><td class="color-1">1</td><td class="color-4">4</td> <td>1111&nbsp;1000</td><td class="color-1">1</td><td class="color-4">4</td></tr>
          <tr><td>0000&nbsp;0111</td><td class="color-5">5</td><td class="color-4">4</td> <td>0010&nbsp;0000</td><td class="color-1">1</td><td class="color-4">4</td></tr>
          <tr><td>0000&nbsp;0000</td><td class="ignored">1</td><td class="color-4">4</td> <td>0010&nbsp;0000</td><td class="color-1">1</td><td class="color-4">4</td></tr>
          <tr><td>0000&nbsp;0000</td><td class="ignored">1</td><td class="color-4">4</td> <td>0010&nbsp;0000</td><td class="color-1">1</td><td class="color-4">4</td></tr>
          <tr><td>1011&nbsp;1111</td><td class="color-1">1</td><td class="color-4">4</td> <td>1111&nbsp;1110</td><td class="color-1">1</td><td class="color-4">4</td></tr>
          <tr><td>0000&nbsp;0100</td><td class="color-1">1</td><td class="color-4">4</td> <td>1111&nbsp;1100</td><td class="color-5">5</td><td class="color-4">4</td></tr>
          <tr><td>0000&nbsp;0100</td><td class="color-1">1</td><td class="color-4">4</td> <td>0000&nbsp;0000</td><td class="ignored">1</td><td class="color-4">4</td></tr>
          <tr><td>0000&nbsp;0100</td><td class="color-1">1</td><td class="color-4">4</td> <td>0000&nbsp;0000</td><td class="ignored">1</td><td class="color-4">4</td></tr>
          <tr><td>0000&nbsp;1111</td><td class="color-1">1</td><td class="color-4">4</td> <td>1111&nbsp;0100</td><td class="color-1">1</td><td class="color-4">4</td></tr>
          <tr><td>0000&nbsp;0000</td><td class="ignored">1</td><td class="color-4">4</td> <td>0010&nbsp;0000</td><td class="color-1">1</td><td class="color-4">4</td></tr>
          <tr><td>0000&nbsp;0000</td><td class="ignored">1</td><td class="color-4">4</td> <td>0000&nbsp;0000</td><td class="ignored">1</td><td class="color-4">4</td></tr>
          <tr><td>0000&nbsp;0000</td><td class="ignored">1</td><td class="color-4">4</td> <td>0000&nbsp;0000</td><td class="ignored">1</td><td class="color-4">4</td></tr>
          <!-- -->
          <tr><td>1111&nbsp;1111</td><td class="color-1">1</td><td class="ignored">f</td> <td>1111&nbsp;1111</td><td class="color-1">1</td><td class="ignored">f</td></tr>
          <tr><td>0000&nbsp;0000</td><td class="ignored">3</td><td class="color-c">c</td> <td>0000&nbsp;0000</td><td class="ignored">3</td><td class="color-c">c</td></tr>
          <tr><td>0000&nbsp;0000</td><td class="ignored">1</td><td class="color-f">f</td> <td>0000&nbsp;0000</td><td class="ignored">1</td><td class="color-f">f</td></tr>
          <tr><td>1111&nbsp;1111</td><td class="color-3">3</td><td class="ignored">c</td> <td>1111&nbsp;1111</td><td class="color-3">3</td><td class="ignored">c</td></tr>
          <tr><td>1111&nbsp;1111</td><td class="color-3">3</td><td class="ignored">c</td> <td>1111&nbsp;1111</td><td class="color-3">3</td><td class="ignored">c</td></tr>
          <tr><td>1111&nbsp;1111</td><td class="color-3">3</td><td class="ignored">c</td> <td>1111&nbsp;1111</td><td class="color-3">3</td><td class="ignored">c</td></tr>
          <tr><td>1111&nbsp;1111</td><td class="color-3">3</td><td class="ignored">c</td> <td>0011&nbsp;1100</td><td class="color-3">3</td><td class="color-c">c</td></tr>
          <tr><td>0111&nbsp;1110</td><td class="color-3">3</td><td class="color-c">c</td> <td>0001&nbsp;1000</td><td class="color-3">3</td><td class="color-c">c</td></tr>
          <tr><td>0011&nbsp;1100</td><td class="color-3">3</td><td class="color-c">c</td> <td>1100&nbsp;0011</td><td class="color-3">3</td><td class="color-c">c</td></tr>
          <tr><td>1001&nbsp;1001</td><td class="color-3">3</td><td class="color-c">c</td> <td>1110&nbsp;0111</td><td class="color-3">3</td><td class="color-c">c</td></tr>
          <tr><td>1100&nbsp;0011</td><td class="color-3">3</td><td class="color-c">c</td> <td>0011&nbsp;1100</td><td class="color-3">3</td><td class="color-c">c</td></tr>
          <tr><td>0110&nbsp;0110</td><td class="color-3">3</td><td class="color-c">c</td> <td>0001&nbsp;1000</td><td class="color-3">3</td><td class="color-c">c</td></tr>
          <tr><td>0011&nbsp;1100</td><td class="color-3">3</td><td class="color-c">c</td> <td>0000&nbsp;0000</td><td class="ignored">3</td><td class="color-c">c</td></tr>
          <tr><td>0001&nbsp;1000</td><td class="color-3">3</td><td class="color-c">c</td> <td>0000&nbsp;0000</td><td class="ignored">3</td><td class="color-c">c</td></tr>
          <tr><td>0000&nbsp;0000</td><td class="ignored">3</td><td class="color-c">c</td> <td>0000&nbsp;0000</td><td class="ignored">3</td><td class="color-c">c</td></tr>
          <tr><td>1111&nbsp;1111</td><td class="color-1">1</td><td class="ignored">f</td> <td>1111&nbsp;1111</td><td class="color-1">1</td><td class="ignored">f</td></tr>
        </tbody>
      </table>
      <p><br>Alternatively, instead of reducing the value count of CLRTBL,
        variations can be chosen to reduce the value count of CHRTBL.
        Mainly, setting the same foreground and background color, making the CHRTBL value unused,
        then setting the desired value.</p>
      <p>In the example output, chunks of consecutive repetitions of the same value in the CHRTBL data
        can be created without altering the rendered image:</p>
      <table class="precompression-table">
        <thead>
          <tr><th>Image</th><th><small>CHRTBL</small></th><th colspan="2"><small>CLRTBL</small></th><th><small>CHRTBL</small></th><th colspan="2"><small>CLRTBL</small></th></tr>
        </thead>
        <tbody>
          <tr><td rowspan=32><img src="./images/Precompression-example.png"></td>
              <td class="ignored">0000&nbsp;0100</td><td class="color-4">4</td><td class="color-4">4</td> <td class="ignored">1111&nbsp;1000</td><td class="color-4">4</td><td class="color-4">4</td></tr>
          <tr><td                >0000&nbsp;0100</td><td class="color-1">1</td><td class="color-4">4</td> <td class="ignored">1111&nbsp;1000</td><td class="color-4">4</td><td class="color-4">4</td></tr>
          <tr><td class="ignored">0000&nbsp;0100</td><td class="color-4">4</td><td class="color-4">4</td> <td class="ignored">1111&nbsp;1000</td><td class="color-4">4</td><td class="color-4">4</td></tr>
          <tr><td                >0000&nbsp;0100</td><td class="color-1">1</td><td class="color-4">4</td> <td class="ignored">1111&nbsp;1000</td><td class="color-4">4</td><td class="color-4">4</td></tr>
          <tr><td                >0000&nbsp;1111</td><td class="color-1">1</td><td class="color-4">4</td> <td                >1111&nbsp;1000</td><td class="color-1">1</td><td class="color-4">4</td></tr>
          <tr><td                >0000&nbsp;0111</td><td class="color-5">5</td><td class="color-4">4</td> <td                >0010&nbsp;0000</td><td class="color-1">1</td><td class="color-4">4</td></tr>
          <tr><td class="ignored">0000&nbsp;0111</td><td class="color-4">4</td><td class="color-4">4</td> <td                >0010&nbsp;0000</td><td class="color-1">1</td><td class="color-4">4</td></tr>
          <tr><td class="ignored">0000&nbsp;0111</td><td class="color-4">4</td><td class="color-4">4</td> <td                >0010&nbsp;0000</td><td class="color-1">1</td><td class="color-4">4</td></tr>
          <tr><td                >1011&nbsp;1111</td><td class="color-1">1</td><td class="color-4">4</td> <td                >1111&nbsp;1110</td><td class="color-1">1</td><td class="color-4">4</td></tr>
          <tr><td                >0000&nbsp;0100</td><td class="color-1">1</td><td class="color-4">4</td> <td                >1111&nbsp;1100</td><td class="color-5">5</td><td class="color-4">4</td></tr>
          <tr><td                >0000&nbsp;0100</td><td class="color-1">1</td><td class="color-4">4</td> <td class="ignored">1111&nbsp;1100</td><td class="color-4">4</td><td class="color-4">4</td></tr>
          <tr><td                >0000&nbsp;0100</td><td class="color-1">1</td><td class="color-4">4</td> <td class="ignored">1111&nbsp;1100</td><td class="color-4">4</td><td class="color-4">4</td></tr>
          <tr><td                >0000&nbsp;1111</td><td class="color-1">1</td><td class="color-4">4</td> <td                >1111&nbsp;0100</td><td class="color-1">1</td><td class="color-4">4</td></tr>
          <tr><td class="ignored">0000&nbsp;1111</td><td class="color-4">4</td><td class="color-4">4</td> <td                >0010&nbsp;0000</td><td class="color-1">1</td><td class="color-4">4</td></tr>
          <tr><td class="ignored">0000&nbsp;1111</td><td class="color-4">4</td><td class="color-4">4</td> <td class="ignored">0010&nbsp;0000</td><td class="color-4">4</td><td class="color-4">4</td></tr>
          <tr><td class="ignored">0000&nbsp;1111</td><td class="color-4">4</td><td class="color-4">4</td> <td class="ignored">0010&nbsp;0000</td><td class="color-4">4</td><td class="color-4">4</td></tr>
          <!-- -->
          <tr><td class="ignored">0111&nbsp;1110</td><td class="color-1">1</td><td class="color-1">1</td> <td class="ignored">0011&nbsp;1100</td><td class="color-1">1</td><td class="color-1">1</td></tr>
          <tr><td class="ignored">0111&nbsp;1110</td><td class="color-c">c</td><td class="color-c">c</td> <td class="ignored">0011&nbsp;1100</td><td class="color-c">c</td><td class="color-c">c</td></tr>
          <tr><td class="ignored">0111&nbsp;1110</td><td class="color-f">f</td><td class="color-f">f</td> <td class="ignored">0011&nbsp;1100</td><td class="color-f">f</td><td class="color-f">f</td></tr>
          <tr><td class="ignored">0111&nbsp;1110</td><td class="color-3">3</td><td class="color-3">3</td> <td class="ignored">0011&nbsp;1100</td><td class="color-3">3</td><td class="color-3">3</td></tr>
          <tr><td class="ignored">0111&nbsp;1110</td><td class="color-3">3</td><td class="color-3">3</td> <td class="ignored">0011&nbsp;1100</td><td class="color-3">3</td><td class="color-3">3</td></tr>
          <tr><td class="ignored">0111&nbsp;1110</td><td class="color-3">3</td><td class="color-3">3</td> <td class="ignored">0011&nbsp;1100</td><td class="color-3">3</td><td class="color-3">3</td></tr>
          <tr><td class="ignored">0111&nbsp;1110</td><td class="color-3">3</td><td class="color-3">3</td> <td                >0011&nbsp;1100</td><td class="color-3">3</td><td class="color-c">c</td></tr>
          <tr><td                >0111&nbsp;1110</td><td class="color-3">3</td><td class="color-c">c</td> <td                >0001&nbsp;1000</td><td class="color-3">3</td><td class="color-c">c</td></tr>
          <tr><td                >0011&nbsp;1100</td><td class="color-3">3</td><td class="color-c">c</td> <td                >0011&nbsp;1100</td><td class="color-c">c</td><td class="color-3">3</td></tr>
          <tr><td                >0110&nbsp;0110</td><td class="color-c">c</td><td class="color-3">3</td> <td                >0001&nbsp;1000</td><td class="color-c">c</td><td class="color-3">3</td></tr>
          <tr><td                >0011&nbsp;1100</td><td class="color-c">c</td><td class="color-3">3</td> <td                >0011&nbsp;1100</td><td class="color-3">3</td><td class="color-c">c</td></tr>
          <tr><td                >0110&nbsp;0110</td><td class="color-3">3</td><td class="color-c">c</td> <td                >0001&nbsp;1000</td><td class="color-3">3</td><td class="color-c">c</td></tr>
          <tr><td                >0011&nbsp;1100</td><td class="color-3">3</td><td class="color-c">c</td> <td class="ignored">0001&nbsp;1000</td><td class="color-c">c</td><td class="color-c">c</td></tr>
          <tr><td                >0001&nbsp;1000</td><td class="color-3">3</td><td class="color-c">c</td> <td class="ignored">0001&nbsp;1000</td><td class="color-c">c</td><td class="color-c">c</td></tr>
          <tr><td class="ignored">0001&nbsp;1000</td><td class="color-c">c</td><td class="color-c">c</td> <td class="ignored">0001&nbsp;1000</td><td class="color-c">c</td><td class="color-c">c</td></tr>
          <tr><td class="ignored">0001&nbsp;1000</td><td class="color-1">1</td><td class="color-1">1</td> <td class="ignored">0001&nbsp;1000</td><td class="color-1">1</td><td class="color-1">1</td></tr>
        <tbody>
      </table>
      <p><br>As both optimizations cannot happen at the same time to the same lines,
        it is necessary choose which one will be prioritized.</p>
      <p>Several different algorithms have been implemented:
        focus on getting chunks of repetitition in either CHRTBL or CLRTBL, with or without touching the other table.
        Also, several merging strategies have been implemented to combine both sets of optimizations.</p>
      <p>Compression ratio improvement will vary depending on the particular charset and the actual compression tool.
        However, to gather sample data, all optimization algorithm combinations have been applied to different charsets,
        then compressed with Einar Saukas' <a href="https://github.com/einar-saukas/ZX0">ZX0</a>
        compression tool, to determine sensible defaults for the precompression tools to give the best compression ratio
        in most scenarios.</p>
      <p>As expected, color-based optimizations performed better than pattern-based optimizations
        (as they are more likely to repeat values). But, unintuitively, trying to combine color-based optimizations
        with pattern-based optimizations did usually performed worse that entirely ignoring pattern-based optimizations.</p>
      <p>As a result, the default configuration simply applies color-based optimizations,
        but allows this color-based optimizations to reverse the pattern if necessary.</p>
      <p><br>Let's take a look at some real world data, measured on:
      <ul>
        <li>Seven 16x16 tiles of
          <a href="https://ninjasenki.com/">Ninja Senki</a>  (&copy; 2010 Jonathan Lavigne),
            that are surprisingly well suited to MSX VDP limitations
            (see the <a href="https://jlavigne.wordpress.com/2012/01/23/ninja-senki-tile-sets/">Ninja Senki Tile Sets</a>
            at the old <a href="https://jlavigne.wordpress.com/">Jonathan Lavigne blog</a>).</li>
        <li>Full charsets from public GitHub repositories of MSX games:<ul>
          <li><a href="https://github.com/theNestruo/msx-pyramidwarpex">Pyramid Warp (1983) - Enhanced plus</a>,</li>
          <li><a href="https://github.com/theNestruo/msx-stevedore">Stevedore (MSX, 2020)</a>, and</li>
          <li><a href="https://github.com/theNestruo/msx-youkaiyashiki-patch">Youkai Yashiki (MSX, Casio, 1986) - Graphics patch</a></li>
        </ul></li>
        <li>Four scenery charsets from
          <a href="https://thenestruo.itch.io/trucho">Trucho (MSX, Kamino, 2024)</a>.
          Namely, the background graphics for the river, the reservoir, the pier, and the secret beach.</li>
        <li>Three scenery charsets from an undisclosed private GitHub repository.</li>
      </ul></p>
      <p>If any precompression tool configuration achieved better compression ratio than the default configuration,
        those configurations and their values are shown besides the default configuration.</p>
      </p>
      <table>
        <thead>
          <tr>
            <th>Raw size</th>
            <th colspan=2>ZX0<sup>1</sup> size</th>
            <th colspan=2>ZX0<sup>1</sup> compression ratio</th>
            <th width="35%">Optimization strategy</th>
          </tr>
        </thead>
        <tbody>

          <tr><th colspan=6>Ninja Senki</th></tr>
          <tr>
            <td class="right">448</td>
            <td class="right">274</td><td></td>
            <td class="right">61,16%</td><td></td>
            <td>Unoptimized PNG2MSX output<sup>2</sup></td>
          </tr>
          <tr>
            <td class="right">448</td>
            <td class="right">272</td><td class="right">-2</td>
            <td class="right">60,71%</td><td class="right">-0,45%</td>
            <td>PNG2MSX optimization flag (<code>-o</code>)<sup>3</sup></td>
          </tr>
          <tr>
            <td class="right">448</td>
            <td class="right">263</td><td class="right">-11</td>
            <td class="right">58,71%</td><td class="right">-2,46%</td>
            <td>Default configuration</td>
          </tr>
          <tr>
            <td class="right">448</td>
            <td class="right">262</td><td class="right">-12</td>
            <td class="right">58,48%</td><td class="right">-2,68%</td>
            <td><em>PatternAndColor</em></td>
          </tr>
          <tr>
            <td class="right">448</td>
            <td class="right">257</td><td class="right">-17</td>
            <td class="right">57,37%</td><td class="right">-3,79%</td>
            <td><em>PatternAndColor</em><br>and <em>ColorAndPattern</em></td>
          </tr>

          <tr><th colspan=6>3&Cross; charsets from public GitHub repositories</th></tr>
          <tr>
            <td class="right">9&nbsp;632</td>
            <td class="right">5&nbsp;382</td><td></td>
            <td class="right">55,88%</td><td></td>
            <td>Unoptimized PNG2MSX output<sup>2</sup></td>
          </tr>
          <tr>
            <td class="right">9&nbsp;632</td>
            <td class="right">5&nbsp;131</td><td class="right">-251</td>
            <td class="right">53,27%</td><td class="right">-2,61%</td>
            <td>PNG2MSX optimization flag (<code>-o</code>)<sup>3</sup></td>
          </tr>
          <tr>
            <td class="right">9&nbsp;632</td>
            <td class="right">4&nbsp;969</td><td class="right">-413</td>
            <td class="right">51,59%</td><td class="right">-4,29%</td>
            <td>Default configuration</td>
          </tr>
          <tr>
            <td class="right">9&nbsp;632</td>
            <td class="right">4&nbsp;968</td><td class="right">-414</td>
            <td class="right">51,58%</td><td class="right">-4,30%</td>
            <td><em>PatternAndColor</em><br>and <em>ColorAndPattern</em>,<br>prioritizing color</td>
          </tr>

          <tr><th colspan=6>4&Cross; scenery charsets from Trucho</th></tr>
          <tr>
            <td class="right">10&nbsp;240</td>
            <td class="right">4&nbsp;190</td><td></td>
            <td class="right">40,92%</td><td></td>
            <td>Unoptimized PNG2MSX output<sup>2</sup></td>
          </tr>
          <tr>
            <td class="right">10&nbsp;240</td>
            <td class="right">3&nbsp;867</td><td class="right">-323</td>
            <td class="right">37,76%</td><td class="right">-3,15%</td>
            <td>PNG2MSX optimization flag (<code>-o</code>)<sup>3</sup></td>
          </tr>
          <tr>
            <td class="right">10&nbsp;240</td>
            <td class="right">3&nbsp;714</td><td class="right">-476</td>
            <td class="right">36,27%</td><td class="right">-4,65%</td>
            <td>Default configuration</td>
          </tr>

          <tr><th colspan=6>3&Cross; charsets from undisclosed private GitHub repository</th></tr>
          <tr>
            <td class="right">10&nbsp;752</td>
            <td class="right">5&nbsp;640</td><td></td>
            <td class="right">52,46%</td><td></td>
            <td>Unoptimized PNG2MSX output<sup>3</sup></td>
          </tr>
          <tr>
            <td class="right">10&nbsp;752</td>
            <td class="right">5&nbsp;275</td><td class="right">-365</td>
            <td class="right">49,06%</td><td class="right">-3,39%</td>
            <td>PNG2MSX optimization flag (<code>-o</code>)<sup>3</sup></td>
          </tr>
          <tr>
            <td class="right">10&nbsp;752</td>
            <td class="right">4&nbsp;984</td><td class="right">-656</td>
            <td class="right">46,35%</td><td class="right">-6,10%</td>
            <td>Default configuration</td>
          </tr>

          <tr><th colspan=6>All test data</th></tr>
          <tr>
            <td class="right">31&nbsp;072</td>
            <td class="right">15&nbsp;486</td><td></td>
            <td class="right">49,84%</td><td></td>
            <td>Unoptimized PNG2MSX output<sup>3</sup></td>
          </tr>
          <tr>
            <td class="right">31&nbsp;072</td>
            <td class="right">14&nbsp;545</td><td class="right">-941</td>
            <td class="right">46,81%</td><td class="right">-3,03%</td>
            <td>PNG2MSX optimization flag (<code>-o</code>)<sup>3</sup></td>
          </tr>
          <tr>
            <td class="right">31&nbsp;072</td>
            <td class="right">13&nbsp;930</td><td class="right">-1556</td>
            <td class="right">44,83%</td><td class="right">-5,01%</td>
            <td>Default configuration</td>
          </tr>
        </tbody>
        <tfoot>
          <tr>
            <td colspan=6>
              <small><sup>1</sup>Using Einar Saukas' ZX0 compressor</small>
              <br><small><sup>2</sup>Using PNG2MSX without any configuration flag</small>
              <br><small><sup>3</sup>Using PNG2MSX with the optimization flag (<code>-o</code>) only</small>
            </td>
          </tr>
        </tfoot>
      </table>
      <p><br>While not optimal (higher compression ratios could be achieved if the optimization
        focused on repeating blocks and not just values, or simply reordering the charset),
        a size reduction ranging between ~7% and ~11% is interesting enough
        to promote precompression tool usage even in this initial implementation.</p>
      <p><br>Get the precompression tool and browse the source code at
        <a href="https://github.com/theNestruo/precompression-tools">
          github.com/theNestruo/precompression-tools</a></p>
      <p>Happy pixelarting!!</p>
    </details>

    <details>
      <summary>PCXTOOLS v4.0
          <small><a id="link-2025-12-09" href="#link-2025-12-09"><i class="bi-share-fill"></i> Dec 9, 2025</a></small>
      </summary>

      <p><i>PNG2MSX</i>
        is a free command line tool to convert PNG images to TMS9918 (MSX-1 VDP) format
				(i.e. CHRTBL/CLRTBL/NAMTBL-ready values).</p>
      <p>The new version 4.0 features an optimization flag (<code>-o</code>)
        that attempts to optimize the generated <i>CLRTBL</i> for compression.</p>
      <p>Where there is one unused color (i.e.: in a solid color line, a line with pattern 0x00 or 0xff),
        tries to replace that unused color for the CLRTBL byte to match the value of the contiguous bytes,
        inverting the pattern if necessary.</p>
      <p>This leads to longer runs of repeated values in the CLRTBL data,
        and those runs of repeated values usually yield better compression ratios.</p>
      <p><br>Let&apos;s take a look at some real world data...</p>
      <p><br>The game <strong>Stevedore</strong> does not have a particularly large amount of graphical data.
        It has just three charsets: the main charset, a separate partial charset for the title screen,
        and a separate partial charset for the ending sequence graphics.</p>
      <p>These resources are about ~8&nbsp;KB of uncompressed raw data,
        and were compressed to ~4&nbsp;KB using
        <a href="https://github.com/einar-saukas">Einar Saukas</a>'
        superb <a href="https://github.com/einar-saukas/ZX0">ZX0</a> compressor.</p>
      <p>Configuring the toolchain to apply optimization when converting the charsets
        and compressing the optimized raw binary data, there is a gain of 252 bytes:</p>
      <table>
        <thead>
          <tr>
            <th><a href="https://github.com/theNestruo/msx-stevedore">Stevedore</a> resources</th>
            <th>Raw size</th>
            <th>Compressed<sup>1</sup> size</th>
            <th>Compressed<sup>1</sup> size<br>(optimized)</th>
            <th>Delta</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>3&Cross; CHRTBL</td>
            <td class="right">4&nbsp;072&nbsp;B</td>
            <td class="right">2&nbsp;671&nbsp;B</td>
            <td class="right">2&nbsp;742&nbsp;B</td>
            <td class="right">+71&nbsp;B</td>
          </tr>
          <tr>
            <td>3&Cross; CLRTBL</td>
            <td class="right">4&nbsp;072&nbsp;B</td>
            <td class="right">1&nbsp;481&nbsp;B</td>
            <td class="right">1&nbsp;158&nbsp;B</td>
            <td class="right">-323&nbsp;B</td>
          </tr>
          <tr>
            <td>Total</td>
            <td class="right">8&nbsp;144&nbsp;B</td>
            <td class="right">4&nbsp;152&nbsp;B</td>
            <td class="right">3&nbsp;900&nbsp;B</td>
            <td class="right"><strong>-252&nbsp;B</strong></td>
          </tr>
        </tbody>
        <tfoot>
          <tr>
            <td colspan="5"><small><sup>1</sup>
              Using Einar Saukas' ZX0 compressor</small></td>
          </tr>
        </tfoot>
      </table>
      <p><br>Let's run a similar experiment with <strong>Trucho</strong>.
        Contrarily to Stevedore, Trucho is charset-heavy. The charset-based graphics of Trucho are split in 25 charset files
        &mdash;most of them partial&mdash; that weight ~34&nbsp;KB of uncompressed raw data.</p>
      <p>Fortunately for the coder and the musician, that also wanted to put things inside the 48&nbsp;KB cartridge,
        graphics were also compressed using ZX0 compressor and ended up taking <em>just</em> ~15&nbsp;KB.</p>
      <p>Configuring the toolchain to apply optimization when converting the charsets,
        in this particular case, gives a improvement of 1&nbsp;336 bytes. More than a whole kilobyte!</p>
      <table>
        <thead>
          <tr>
            <th><a href="https://thenestruo.itch.io/trucho">Trucho</a> resources</th>
            <th>Raw size</th>
            <th>Compressed<sup>2</sup> size</th>
            <th>Compressed<sup>2</sup> size<br>(optimized)</th>
            <th>Delta</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>25&Cross; CHRTBL</td>
            <td class="right">17&nbsp;752&nbsp;B</td>
            <td class="right">10&nbsp;286&nbsp;B</td>
            <td class="right">10&nbsp;606&nbsp;B</td>
            <td class="right">+321&nbsp;B</td>
          </tr>
          <tr>
            <td>25&Cross; CLRTBL</td>
            <td class="right">17&nbsp;752&nbsp;B</td>
            <td class="right">5&nbsp;603&nbsp;B</td>
            <td class="right">3&nbsp;946&nbsp;B</td>
            <td class="right">-1&nbsp;657&nbsp;B</td>
          </tr>
          <tr>
            <td>Total</td>
            <td class="right">35&nbsp;504&nbsp;B</td>
            <td class="right">15&nbsp;889&nbsp;B</td>
            <td class="right">14&nbsp;552&nbsp;B</td>
            <td class="right"><strong>-1&nbsp;336&nbsp;B</strong></td>
          </tr>
        </tbody>
        <tfoot>
          <tr>
            <td colspan="5"><small><sup>2</sup>
              Using Einar Saukas' ZX0 compressor</small></td>
          </tr>
        </tfoot>
      </table>
      <p><br>Currently, only one optimization algorithm is provided. The gain in CLRTBL compressed sizes
        already outweighs the loses in CHRTBL compressed sizes, and the benefit is not negligible.
        But it is probably worth implementing variations in the optimization algorithm
        (for example: with pattern inversion, to prevent the growth in CHRTBL compressed sizes),
        so expect a new v4.1 or v5.0 version soon!</p>
      <p><br>Meanwhile, get the new version and browse the source code at
        <a href="https://github.com/theNestruo/pcxtools">
          github.com/theNestruo/pcxtools</a></p>
      <p>Happy pixelarting!!</p>
    </details>

    <details>
      <summary>Z80 Assembly meter v6.0.0
          <small><a id="link-2025-07-02" href="#link-2025-07-02"><i class="bi-share-fill"></i> Jul 2, 2025</a></small>
      </summary>

      <q>Font ligatures!? Where we're going we don't need font ligatures!!</q>
      <p>The Z80 Assembly meter extension for Visual Studio Code reaches version 6.0.0
				with Inlay Hints (additional information about source code that is rendered inline)
        that show the timing of the execution flow of subroutines (up to the first unconditional exit point),
        and timing of the execution flow up to conditional and unconditional exit points.</p>
      <p>The extension is also available now in <a href="https://open-vsx.org/">
        Open VSX Registry</a> for users of VS Codium (or any other VS Code fork).</p>
      <p class="center"><img src="./images/Z80AsmMeter-screenshot.png" loading="lazy"></p>
      <p>Get it here:
        <a href="https://marketplace.visualstudio.com/items?itemName=theNestruo.z80-asm-meter">Z80 Assembly meter</a>,
        or here: <a href="https://open-vsx.org/extension/theNestruo/z80-asm-meter">Z80 Assembly meter</a></p>
      <p>Browse the source code at
        <a href="https://github.com/theNestruo/z80-asm-meter-vscode">github.com/theNestruo/z80-asm-meter-vscode</a></p>
      <p>Happy coding!!</p>
    </details>

    <details>
      <summary>Desperado - Music patch
          <small><a id="link-2025-01-02" href="#link-2025-01-02"><i class="bi-share-fill"></i> Jan 2, 2025</a></small>
      </summary>

      <p><i>Desperado (Topo Soft, 1987)</i>, also known as <i>Gunsmoke (Go!, 1987)</i>, was released for ZX Spectrum, Amstrad CPC, and MSX.</p>
      <p>If you listen to the title music
        (composed by <a href="https://es.wikipedia.org/wiki/C%C3%A9sar_Astudillo_%C2%ABGominolas%C2%BB">Gominolas</a>)
        of the MSX and the Amstrad CPC versions, you will notice the MSX version is missing one entire channel.</p>
      <p>This can be confirmed using the built-in <i>PSG Toy</i> tool of <i>meisei</i> MSX emulator (by Hap),
        where channel C is continuously displays <code>$000 / 0</code>:</p>
      <p class="center"><img src="./images/Desperado-PsgToy-0.png" loading="lazy"></p>
      <p>Does this happen by a bug of the replayer code?<br>
        Has it been deliberately cut to save space?<br>
        Let's find out&hellip;</p>
      <p><br>The following fragment of code initializes the music in the buffers used by the replayer:</p>
      <pre>
LA886:  ; ...
        xor     a            ; Channel A
        ld      de, $8854    ; Data for channel A
        call    L7FE9        ; Initialize music channel (A)
        inc     a            ; Channel B
        ld      de, $88A3    ; Data for channel B
        call    L7FE9        ; Initialize music channel (B)
        inc     a            ; Channel C
        ld      de, $898A    ; Data for channel C
        call    L7FE9        ; Initialize music channel (C)
LA8BE:  call    LAB4E        ; Check for any key
        jr      z,LA8BE      ; Infinite loop until any key is pressed
        ; ...</pre>
      <p>And the first bytes of the data for every channel are:</p>
      <pre>
; Data for channel A
L8854:  db      $85, $64, $87, $00, $81, $01, $80, $0C
        db      $83, $10, $8C, $00, $21, $1F, $1D, $21, ...
; Data for channel B
L88A3:  db      $87, $01, $81, $01, $8A, $01, $80, $0C
        db      $8C, $04, $83, $10, $39, $3C, $3C, $83, ...
; Data for channel C
L898A:  db      $8B, $00, $81, $01, $80, $0D, $83, $10
        db      $30, $83, $08, $32, $33, $83, $10, $34, ...</pre>
      <p>The replayer (invoked within the <code>H.TIMI</code> hook) is located at <code>L8008</code>.<br>
        Reading its disassembly reveals that the bytes with its most significant bit (the <code>$80+n</code> bytes) are &ldquo;commands&rdquo;.
        Each command invokes one subroutine based on the following indirection table:</p>
      <pre>
L84BB:  dw      L8202   ; Subroutine for command: $80
        dw      L8220   ; Subroutine for command: $81
        dw      L8282   ; Subroutine for command: $82
        ...
        dw      L822B   ; Subroutine for command: $8b
        ...
        dw      L8395   ; Subroutine for command: $8e
        dw      -1      ; Subroutine for command: $8f (invalid)
        ...
        dw      -1      ; Subroutine for command: $e5 (invalid)</pre>
      <p>Command <code>$8B</code>, only used in channel C, seems to completely mute a channel
        (by zeroing the replayer working buffer for that channel).<br>
        As it happens to appear in the first byte of the data for that channel,
        it can be skipped by initializing the channel two bytes after (i.e.: <code>ld de, $898A + 2</code>),
        unmuting the channel, and revealing that the full data for that channel is there.<br>
        However, it will use a very monotonous timbre and a constant volume.</p>
      <p>A better option is to remove that command <code>$8B</code>, replacing it by the command <code>$87</code>.<br>
        This command <code>$87</code> is used at the beginning of the data of the other two channels,
        and seems to set the &ldquo;instrument&rdquo;, the volume variations that shape a pseudo-envelope.</p>
      <p>The difference is notable, as you can hear in <a href="https://x.com/araubiMSX">Araubi</a>'s <a href="https://x.com/araubiMSX/status/1874548246976360811">post in X</a>
        and <a href="https://bsky.app/profile/araubi.bsky.social">Araubi</a>'s <a href="https://bsky.app/profile/araubi.bsky.social/post/3lepefcuwjs24">post in Bluesky</a>.</p>
      <p>Enjoy!!</p>
    </details>

    <details>
      <summary>Namcot patches
          <small><a id="link-2024-05-11" href="#link-2024-05-11"><i class="bi-share-fill"></i> May 11, 2024</a></small>
      </summary>

      <p>Based on
        <a href="https://www.tiny-yarou.com/deepp6.html">previous work</a>
        by
        <a href="https://twitter.com/tiny_yarou">TINY</a>,
			I have prepared IPS patches for some Namcot MSX games.</p>
      <p>Also, these patches includes the fix of a graphical glitch of
        <i><a href="https://www.generation-msx.nl/software/namco/dig-dug/221/">Dig Dug (NAMCOT, 1984)</a></i>
        in MSX2 or later that, as far as I know, was known but had never been actually patched.</p>
      <p class="center"><img src="./images/DigDug-Patch-screenshot.png" loading="lazy"></p>
      <p>Get them here:
        <a href="./files/Namcot - patches.zip" download><i class="bi-download"></i>&nbsp;Namcot - patches.zip</a></p>
      <p>Browse the source code at
        <a href="https://github.com/theNestruo/msx-namcot-patch">
          github.com/theNestruo/msx-namcot-patch</a></p>
      <p>Happy patching!!</p>
    </details>

    <details>
      <summary>Congratulations, Trucho!
          <small><a id="link-2024-04-27" href="#link-2024-04-27"><i class="bi-share-fill"></i> Apr 27, 2024</a></small>
      </summary>

      <p>Congratulations, Trucho!</p>
      <p>Trucho won
        <a id="link-2024-04-27" href="https://engage.videoapuntes.upv.es/paella/ui/watch.html?id=b44be9f0-fcdd-11ee-9eca-7f2918669f96">Best 8-bit game in the II Edition of the RetroPaella Awards '24</a>
        held at
        <a href="https://museo.inf.upv.es/retropolis-valencia/">Retrpolis Valencia</a>!</p>
      <p class="center"><img src="./images/Trucho-RetroPaellaAwards2024.jpg" loading="lazy"></p>
      <p>Trucho physical cartridges are available at
        <a href="https://msxcartridgeshop.com">MSX Cartridge Shop</a>
        and digital editions are available at
        <a href="https://thenestruo.itch.io/trucho">thenestruo.itch.io/trucho</a></p>
      <p>Enjoy!!</p>
    </details>

    <details>
      <summary>Trucho
          <small><a id="link-2024-04-06" href="#link-2024-04-06"><i class="bi-share-fill"></i> Apr 6, 2024</a></small>
      </summary>

      <p class="center"><img src="./images/Trucho-packaging.jpg" loading="lazy"></p>
      <p>Physical cartridges available now at
        <a href="https://msxcartridgeshop.com">MSX Cartridge Shop</a>!</p>
      <p class="center"><img src="./images/Trucho-digital.jpg" loading="lazy"></p>
      <p>Digital editions available now at
        <a href="https://thenestruo.itch.io/trucho">thenestruo.itch.io/trucho</a></p>
      <p class="center">
        <iframe frameborder="0" src="https://itch.io/embed/2525858?bg_color=fff&amp;fg_color=222&amp;link_color=0055A0&amp;border_color=d06300" width="208" height="167" class="hidden hidden-dark hidden-large"><a href="https://thenestruo.itch.io/trucho">Trucho (Kamino, 2024) by theNestruo, Errazking</a></iframe>
        <iframe frameborder="0" src="https://itch.io/embed/2525858?bg_color=fff&amp;fg_color=222&amp;link_color=729FCF&amp;border_color=d06300" width="552" height="167" class="hidden hidden-dark hidden-small"><a href="https://thenestruo.itch.io/trucho">Trucho (Kamino, 2024) by theNestruo, Errazking</a></iframe>
        <iframe frameborder="0" src="https://itch.io/embed/2525858?bg_color=222&amp;fg_color=eee&amp;link_color=729FCF&amp;border_color=d06300" width="208" height="167" class="hidden hidden-light hidden-large"><a href="https://thenestruo.itch.io/trucho">Trucho (Kamino, 2024) by theNestruo, Errazking</a></iframe>
        <iframe frameborder="0" src="https://itch.io/embed/2525858?bg_color=222&amp;fg_color=eee&amp;link_color=729FCF&amp;border_color=d06300" width="552" height="167" class="hidden hidden-light hidden-small"><a href="https://thenestruo.itch.io/trucho">Trucho (Kamino, 2024) by theNestruo, Errazking</a></iframe>
      </p>
      <p>Have fun!!</p>
    </details>

    <details>
      <summary>Z80 Assembly meter v4.0.0
          <small><a id="link-2023-08-17" href="#link-2023-08-17"><i class="bi-share-fill"></i> Aug 17, 2023</a></small>
      </summary>

      <q>Font ligatures!? Where we're going we don't need font ligatures!!</q>
      <p>The Z80 Assembly meter extension for Visual Studio Code reaches version 4.0.0
				with huge performance improvements and supporting:
				NEC PC-8000 series, Sjasm and SjASMPlus repeat count,
				SjASMPlus register list instructions and repetitions,
				and advanced timing algorithms.</p>
      <h3>Update
        <small><a href="#link-2025-07-02">Jul 2, 2025</a></small></h3>
      <p>Major version 6.0.0 released</p>
    </details>

    <details>
      <summary>RUN'23 minigame
          <small><a id="link-2023-04-15" href="#link-2023-04-15"><i class="bi-share-fill"></i> Apr 15, 2023</a></small>
      </summary>

      <p>A mini-game for four players in one MSX.</p>
      <p>Coded in two evenings for the RUN'23
				(&ldquo;Reunin de Usuarios de MSX del Norte&rdquo;)
				held in Hoznayo (Cantabria, Spain) on April 15th, 2023.</p>
      <p class="center"><img src="./images/run23-screenshot.png" loading="lazy"></p>
      <p>Get the cartridge image here:
        <a href="./files/run23.zip" download><i class="bi-download"></i>&nbsp;run23.zip</a></p>
      <p>Browse the source code at
        <a href="https://github.com/theNestruo/msx-msxlib/tree/master/games/minigames/run23">github.com/theNestruo/msx-msxlib/tree/master/games/minigames/run23
          </a></p>
      <p>Find some friends and have fun!!</p>
    </details>

    <details>
      <summary>MSX slideshow of Justin Cyr's &ldquo;1008 32x32 female portrait studies done in the MSX palette&rdquo;
          <small><a id="link-2023-01-26" href="#link-2023-01-26"><i class="bi-share-fill"></i> Jan 26, 2023</a></small>
      </summary>

      <blockquote>
        <p>&ldquo;Ok, here's all 1008 32x32 female portrait studies done in the MSX palette.<br>
          2 years, 3 months and one day later, it's done.&rdquo;</p>
        <cite><a href="https://twitter.com/JUSTIN_CYR/status/829196024631681024">Justin Cyr &ndash; Feb 8, 2017</a></cite>
      </blockquote>
      <p>Justin Cyr used the MSX palette to create 1008 32x32 female portraits.
				The palette and the resolution made them a very good fit for the multicolor graphic mode
				of the MSX (also known as SCREEN 3),
				so I coded a slideshow to learn about MegaROMS and the multicolor graphic mode.</p>
      <p class="center"><img src="./images/JustinCyrFemalePortraits-screenshot.png" loading="lazy"></p>
      <p>Get the cartridge image here:
        <a href="./files/Justin Cyr's 1008 32x32 female portraits slideshow.zip" download>
          <i class="bi-download"></i>&nbsp;Justin Cyr's 1008 32x32 female portraits slideshow.zip</a></p>
      <p>Browse the source code at
        <a href="https://github.com/theNestruo/msx-justincyr-female-portraits">github.com/theNestruo/msx-justincyr-female-portraits
          </a></p>
      <p>Enjoy!!</p>
    </details>

    <details>
      <summary>A study of Sony HitBit firmware fonts
          <small><a id="link-2023-01-17" href="#link-2023-01-17"><i class="bi-share-fill"></i> Jan 17, 2023</a></small>
      </summary>

      <p>(Not so) recently, I acquired a Sony
        <span class="nowrap">HB-11</span>
        MSX, also known as
        <i><span class="nowrap">HitBit U</span></i>.
				The firmware of this computer was previously undumped, so I
        <a href="./files/Sony_HB-11.zip" download><i class="bi-download"></i>&nbsp;dumped it</a></p>
      <p>Beside the well-known features of Kanji-ROM, Japanese Word Processor, and English-Japanese dictionary
				&mdash;they are written on top of the computer&mdash;, the firmware contains a quite unique feature:
				the ability to change the system font with the extra BASIC instruction
        <code>CALL FONT(n)</code>.</p>
      <p>Inspecting other firmwares, I found that Sony
        <span class="nowrap">HB-F900</span>
        also had a similar feature
				with three additional fonts.</p>
      <p>As the
        <span class="nowrap">HB-11</span>
        firmware easter egg is similar to the one present in the
				Sony
        <span class="nowrap">HB-F1</span>/<span class="nowrap">HB-F1II</span>
        firmwares, I analyzed them too.
				I found two additional fonts (one used for the easter egg, the other one used sparingly in the firmware),
				but no
        <code>CALL FONT</code>
        instruction.<br>
        However, those fonts can still be used as system fonts using the system variable CGPNT (0xF91F, 3 bytes):<ul>
          <li>The easter egg font is located in the slot 3-0, at address 0x47CA for the
            <span class="nowrap">HB-F1</span>
            (<code>POKE &HF91F,&H83:POKE &HF920,&HCA:POKE &HF921,&H47</code>), or 0x485C for the
            <span class="nowrap">HB-F1II</span>
            (<code>POKE &HF91F,&H83:POKE &HF920,&H5C:POKE &HF921,&H48</code>).</li>
          <li>The serif font is located in the slot 3-2, at address 0x554F for the
            <span class="nowrap">HB-F1</span>
            (<code>POKE &HF91F,&H8B:POKE &HF920,&H4F:POKE &HF921,&H55</code>), or 0x54DB for the
            <span class="nowrap">HB-F1II</span>
            (<code>POKE &HF91F,&H8B:POKE &HF920,&HDB:POKE &HF921,&H54</code>).</li>
        </ul></p>
      <p>Now, let's take a look at all these fonts in one single image:</p>
      <p class="center"><a href="./images/SonyHitBit-fonts.png"><img src="./images/SonyHitBit-fonts.png" loading="lazy"></a></p>

      <p><br>Regarding the kanji/kana part of the character set, it is curious that, despite the
        <span class="nowrap">HB-11</span>
        has the greater number of alternative fonts (six fonts), all of them use the same kanji/kana set:
				a less geometric and more scripted version of the default system font.
				This kanji/kana set is also used for two of the alternative fonts of the
        <span class="nowrap">HB-F900</span>,
				but it is not used in any of the
        <span class="nowrap">HB-F1</span>/<span class="nowrap">HB-F1II</span>
        alternative fonts.</p>
      <p>The
        <span class="nowrap">HB-F1</span>/<span class="nowrap">HB-F1II</span>
        alternative fonts have two alternate kanji/kana sets:
				one features slightly larger katakanas, and the other one uses a bold variant of those larger katakanas.
				The rest of the characters of the kanji/kana set are different in every alternative font.</p>
      <p>The
        <span class="nowrap">HB-F900</span>
        also have a bold kanji/kana set,
				but it is not the same as the bold set from the
        <span class="nowrap">HB-F1</span>/<span class="nowrap">HB-F1II</span>:
				in this alternative font, the entire kanji/kana set is bold, and seems to be based on the default system font
				(unlike the
        <span class="nowrap">HB-F1</span>/<span class="nowrap">HB-F1II</span>
        version, that was based on the larger katakana set).</p>
      <p class="center"><a href="./images/SonyHitBit-kanasComparison.png"><img src="./images/SonyHitBit-kanasComparison.png" loading="lazy"></a></p>

      <p><br>Regarding the western characters, the only alternative set that is actually shared between computers
				is the LCD-like font. This font appears in both the
        <span class="nowrap">HB-11</span>
        and the
        <span class="nowrap">HB-F900</span>.
				There is a serif alternative font in every firmware, but it is not exactly the same:</p>
      <p>The
        <span class="nowrap">HB-F900</span>
        looks the first iteration of the serif font,
				as some symbols are directly taken from the default system font,
				and the lowercase letters seems to be designed using the default system font as a base.
				The
        <span class="nowrap">HB-11</span>
        and the
        <span class="nowrap">HB-F1</span>/<span class="nowrap">HB-F1II</span>
        variants of the serif font
				are more elaborated; more symbols and lowercase letters are redesigned.
				Both are very similar to each other, but the
        <span class="nowrap">HB-F1</span>/<span class="nowrap">HB-F1II</span>
        version
				seems to be the most evolved, based on some details in the uppercase and lowercase
        <i>C</i>
        letters
				and the circumflex character.</p>
      <p class="center"><a href="./images/SonyHitBit-serifEvolution.png"><img src="./images/SonyHitBit-serifEvolution.png" loading="lazy"></a></p>

      <p><br>Unfortunately, using these fonts as the system font is only useful for MSX-BASIC programs.</p>
      <p>Early software that use the system font, such as
        <i>Mr. Chin (HAL Laboratory, 1984)</i>
        or
        <i>Youkai Yashiki (CASIO, 1986)</i>, is not reading the system variable CGPNT
				but CGTABL (0x0004, 2 bytes), that always points to the BIOS default system font.</p>
      <p>Fortunately, it is possible nowadays to patch a BIOS ROM, inject one of these fonts,
				and create a fake custom BIOS. Using this BIOS (most likely, using emulators), we can experience
				how would those early titles look with the cool looking LCD-like or Broadway-styled fonts
				instead the boring default system font:</p>
      <p class="center"><img src="./images/SonyHitBit-Balance-screenshot.png" loading="lazy">
        <img src="./images/SonyHitBit-MrChin-screenshot.png" loading="lazy"></p>
      <p>We can also imagine that different manufacturers could have used stylized system fonts
				to give their computers a distinctive look and more personality:</p>
      <p class="center"><img src="./images/SonyHitBit-BASIC-screenshot.png" loading="lazy"></p>
      <p>Have fun!!</p>
    </details>

    <details>
      <summary>Youkai Yashiki - Graphics patch source code
          <small><a id="link-2022-10-30" href="#link-2022-10-30"><i class="bi-share-fill"></i> Oct 30, 2022</a></small>
      </summary>

      <p><a href="#link-2021-07-08">One year (and a half) ago</a>,
				the graphical patch for
        <i><a href="https://www.generation-msx.nl/software/casio/ghost-house/874/">Youkai Yashiki (CASIO, 1986)</a></i>
        was released,
				also known as
        <i>Ghost House</i>.<br>
        A friendly reminder of the superb graphics
        <a href="https://twitter.com/yazioh">yazioh</a>
        did:</p>
      <p class="center"><!-- <img src="./images/YoukaiYashiki-GraphicsPatch-screenshot-0.png" loading="lazy"> -->
        <img src="./images/YoukaiYashiki-GraphicsPatch-screenshot-1.png" loading="lazy">
        <img src="./images/YoukaiYashiki-GraphicsPatch-screenshot-2.png" loading="lazy">
        <!-- <img src="./images/YoukaiYashiki-GraphicsPatch-screenshot-3.png" loading="lazy"> -->
        <img src="./images/YoukaiYashiki-GraphicsPatch-screenshot-4.png" loading="lazy">
        <img src="./images/YoukaiYashiki-GraphicsPatch-screenshot-5.png" loading="lazy"></p>
      <p>Today, I have finally cleaned up the source code of the patches and uploaded it to GitHub.</p>
      <p>Get the patch here:
        <a href="./files/Youkai Yashiki - Graphics patch v1.1 (Yazioh & Nestruo, 2021-07-12).zip" download>
          <i class="bi-download"></i>&nbsp;Youkai Yashiki - Graphics patch v1.1 (Yazioh & Nestruo, 2021-07-12).zip</a></p>
      <p>Browse the source code at
        <a href="https://github.com/theNestruo/msx-youkaiyashiki-patch">github.com/theNestruo/msx-youkaiyashiki-patch
          </a></p>
      <p>Happy patching!!</p>
    </details>

    <details>
      <summary>Recursive Mono Duotone Custom
          <small><a id="link-2022-10-20" href="#link-2022-10-20"><i class="bi-share-fill"></i> Oct 17, 2022</a></small>
      </summary>

      <p>Recursive Mono Duotone Custom (Rec Mono DtCustom) is a custom build of
        <a href="https://www.recursive.design/">Recursive Sans & Mono</a>.</p>
      <blockquote cite="https://github.com/arrowtype/recursive/blob/main/fonts/ArrowType-Recursive-1.085/Recursive_Code/README.md#packages">
        Rec Mono Duotone
        <br>
        A personal favorite &mdash; this use the Linear style for Regular text and Casual styles for Bold, Italic, & Bold Italic text. In many themes that use italic styles, this will give most code a utilitarian look, but set comments, some keywords, and certain headlines in the more-handwritten Casual style.
      </blockquote>
      <p>This custom build is based on Rec Mono Duotone configuration, with some OpenType Features tweaks:<ul>
          <li>restores the non-simplified
            <code>l</code>,</li>
          <li>uses the simplified
            <code>r</code>,</li>
          <li>restores the serif in
            <code>L</code>
            and
            <code>Z</code>, and</li>
          <li>restores the non-simplified
            <code>6</code>
            and
            <code>9</code>.</li>
        </ul></p>
      <p class="center"><img src="./images/RecMonoDtCustom-screenshot.png" loading="lazy"></p>
      <p>Get it here:
        <a href="./files/RecMonoDtCustom-1.085.zip" download><i class="bi-download"></i>&nbsp;RecMonoDtCustom-1.085.zip</a></p>
      <p>Happy coding!!</p>
    </details>

    <details>
      <summary>Happy birthday, Stevedore!
          <small><a id="link-2022-10-18" href="#link-2022-10-18"><i class="bi-share-fill"></i> Oct 18, 2022</a></small>
      </summary>

      <p>Happy birthday, Stevedore!</p>
      <p><a href="#link-2020-10-19">Two years ago</a>, Stevedore for MSX was released.<br>
        To celebrate the second anniversary, you can now download the original soundtrack converted to MP3 for your convenience!</p>
      <p>You can now play (and download) for free at
        <a href="https://thenestruo.itch.io/stevedore">thenestruo.itch.io/stevedore</a></p>
      <p class="center"><iframe src="https://itch.io/embed/1219978?bg_color=fff&amp;fg_color=222&amp;link_color=0091B4&amp;border_color=1daed1" width="208" height="167" frameborder="0" class="hidden hidden-dark hidden-large"><a href="https://thenestruo.itch.io/stevedore">Stevedore (MSX, 2020) by theNestruo</a></iframe>
        <iframe src="https://itch.io/embed/1219978?bg_color=fff&amp;fg_color=222&amp;link_color=0091B4&amp;border_color=1daed1" width="552" height="167" frameborder="0" class="hidden hidden-dark hidden-small"><a href="https://thenestruo.itch.io/stevedore">Stevedore (MSX, 2020) by theNestruo</a></iframe>
        <iframe src="https://itch.io/embed/1219978?bg_color=222&amp;fg_color=eee&amp;link_color=0091B4&amp;border_color=4e4e4e" width="208" height="167" frameborder="0" class="hidden hidden-light hidden-large"><a href="https://thenestruo.itch.io/stevedore">Stevedore (MSX, 2020) by theNestruo</a></iframe>
        <iframe src="https://itch.io/embed/1219978?bg_color=222&amp;fg_color=eee&amp;link_color=0091B4&amp;border_color=4e4e4e" width="552" height="167" frameborder="0" class="hidden hidden-light hidden-small"><a href="https://thenestruo.itch.io/stevedore">Stevedore (MSX, 2020) by theNestruo</a></iframe></p>
      <p>Physical cartridges can be acquired at
        <a href="https://msxcartridgeshop.com">MSX Cartridge Shop</a></p>
      <p>And you can browse the source code at
        <a href="https://github.com/theNestruo/msx-stevedore">github.com/theNestruo/msx-stevedore</a></p>
      <p>Have fun!!</p>
    </details>

    <details>
      <summary>Stevedore password generator
          <small><a id="link-2022-07-09" href="#link-2022-07-09"><i class="bi-share-fill"></i> Jul 09, 2022</a></small>
      </summary>

      <p>Stevedore password system was cracked by MSX user Briqunullus on Jan 16, 2021, and then I shared the
        <a href="https://gist.github.com/theNestruo/041e97024f3e2ef558f71e0eea531a52">password generator
          </a>
        I used during the development process as a
        <a href="https://gist.github.com/">GitHub Gist
          </a>.</p>
      <p>Today, I was talking with
        <a href="https://www.msxarea.com/editorial_esp.html">MSX AREA</a>
        editor
        <a href="https://twitter.com/MSX_AREA">Juanmi Ortu&ntilde;o</a>
        about Stevedore,
				then I remembered the password generator was not available online.</p>
      <p>So here it is:</p>
      <br>
      <form id="stevedorePasswordForm">
        <h3>Chapters unlocked</h3>
        <input type="text" name="chapters" min="2" max="5" minlength="1" maxlength="1" size="1" value="2" onchange="stevedorePassword.refresh(); return true;">
        <h3>Stars found</h3>
        <div>
          <input id="star1" type="checkbox" name="star1" value="1" onclick="stevedorePassword.refresh(); return true;">
          <label for="star1">lighthouse</label>
          <input id="star2" type="checkbox" name="star2" value="1" onclick="stevedorePassword.refresh(); return true;">
          <label for="star2">abandoned ship</label>
          <input id="star3" type="checkbox" name="star3" value="1" onclick="stevedorePassword.refresh(); return true;">
          <label for="star3">shipwreck island</label>
          <input id="star4" type="checkbox" name="star4" value="1" onclick="stevedorePassword.refresh(); return true;">
          <label for="star4">uncanny cave</label>
          <input id="star5" type="checkbox" name="star5" value="1" onclick="stevedorePassword.refresh(); return true;">
          <label for="star5">ancient temple ruins</label>
        </div>
        <h3>Secret stage</h3>
        <div>
          <input id="secret" type="checkbox" name="secret" value="1" onclick="stevedorePassword.refresh();return true;">
          <label for="secret">secret stage</label>
        </div>
        <h3>Password</h3>
        <pre><input type="text" name="passwords" size="6" readonly></pre>
      </form>
      <br>
      <p>Have fun!!</p>
    </details>

    <details>
      <summary>Z80 Assembly meter v3.0.0
          <small><a id="link-2022-02-19" href="#link-2022-02-19"><i class="bi-share-fill"></i> Feb 19, 2022</a></small>
      </summary>

      <p>The Z80 Assembly meter extension for Visual Studio Code reaches version 3.0.0
				and gains support for user-defined macros.</p>
      <h3>Update
        <small><a href="#link-2023-08-17">Aug 17, 2023</a></small></h3>
      <p>Major version 4.0.0 released</p>
      <h3>Update
        <small><a href="#link-2025-07-02">Jul 2, 2025</a></small></h3>
      <p>Major version 6.0.0 released</p>
    </details>

    <details>
      <summary>Z80 Assembly meter v2.0.0
          <small><a id="link-2021-11-18" href="#link-2021-11-18"><i class="bi-share-fill"></i> Nov 18, 2021</a></small>
      </summary>

      <p>The Z80 Assembly meter extension for Visual Studio Code reaches version 2.0.0
				and gains support for Pasmo, SDCC, and SjASMPlus assembler syntax.</p>
      <h3>Update
        <small><a href="#link-2022-02-19">Feb 19, 2022</a></small></h3>
      <p>Major version 3.0.0 released</p>
      <h3>Update
        <small><a href="#link-2023-08-17">Aug 17, 2023</a></small></h3>
      <p>Major version 4.0.0 released</p>
      <h3>Update
        <small><a href="#link-2025-07-02">Jul 2, 2025</a></small></h3>
      <p>Major version 6.0.0 released</p>
    </details>

    <details>
      <summary>Happy birthday, Stevedore!
          <small><a id="link-2021-10-18" href="#link-2021-10-18"><i class="bi-share-fill"></i> Oct 18, 2021</a></small>
      </summary>

      <p>Happy birthday, Stevedore!</p>
      <p><a href="#2020-10-19">One year ago</a>, Stevedore for MSX was released.<br>
        To celebrate the first anniversary, you can now play (and download) for free at
        <a href="https://thenestruo.itch.io/stevedore">thenestruo.itch.io/stevedore</a></p>
      <p class="center"><iframe src="https://itch.io/embed/1219978?bg_color=fff&amp;fg_color=222&amp;link_color=0091B4&amp;border_color=1daed1" width="208" height="167" frameborder="0" class="hidden hidden-dark hidden-large"><a href="https://thenestruo.itch.io/stevedore">Stevedore (MSX, 2020) by theNestruo</a></iframe>
        <iframe src="https://itch.io/embed/1219978?bg_color=fff&amp;fg_color=222&amp;link_color=0091B4&amp;border_color=1daed1" width="552" height="167" frameborder="0" class="hidden hidden-dark hidden-small"><a href="https://thenestruo.itch.io/stevedore">Stevedore (MSX, 2020) by theNestruo</a></iframe>
        <iframe src="https://itch.io/embed/1219978?bg_color=222&amp;fg_color=eee&amp;link_color=0091B4&amp;border_color=4e4e4e" width="208" height="167" frameborder="0" class="hidden hidden-light hidden-large"><a href="https://thenestruo.itch.io/stevedore">Stevedore (MSX, 2020) by theNestruo</a></iframe>
        <iframe src="https://itch.io/embed/1219978?bg_color=222&amp;fg_color=eee&amp;link_color=0091B4&amp;border_color=4e4e4e" width="552" height="167" frameborder="0" class="hidden hidden-light hidden-small"><a href="https://thenestruo.itch.io/stevedore">Stevedore (MSX, 2020) by theNestruo</a></iframe></p>
      <p>Physical cartridges can be acquired at
        <a href="https://msxcartridgeshop.com">MSX Cartridge Shop</a></p>
      <p>And you can browse the source code at
        <a href="https://github.com/theNestruo/msx-stevedore">github.com/theNestruo/msx-stevedore
          </a></p>
      <p>Have fun!!</p>
      <h3>Update
        <small><a href="#link-2022-10-18">Oct 18, 2022</a></small></h3>
      <p>You can now download the original soundtrack</p>
      <h3>Update
        <small><a href="#">Nov 14, 2024</a></small></h3>
      <p>Due a bug in BlueMSX 2.8.x emulator, players were getting a forced
        <i>game over</i>
        after loading a save state.<br>
        If you replace you .exe with BlueMSX 2.9.0, save states will work as intended.<br>
        Get the Blue MSX 2.9.0 compiled executable here:
        <a href="https://github.com/ducasp/blueMSX/tree/master/Compiled%20Executable/Release">github.com/ducasp/blueMSX</a></p>
    </details>

    <details>
      <summary>PCXTOOLS v3.0
          <small><a id="link-2021-10-02" href="#link-2021-10-02"><i class="bi-share-fill"></i> Oct 02, 2021</a></small>
      </summary>

      <p><i>PNG2MSX</i>
        and
        <i>PNG2SPR[+]</i>
        are free command line tools to convert PNG images to TMS9918 (MSX-1 VDP) format
				(i.e. CHRTBL/CLRTBL/NAMTBL-ready values, and SPRTBL/SPATBL-ready values).</p>
      <p><i>TMX2BIN</i>
        is a free command line tool to convert Tiled maps to binary.</p>
      <p>The new version 3.0 uses PNG
        <i>(Portable Network Graphics)</i>
        files as inputs,
				instead of the obsolete PCX
        <i>(PiCture eXchange)</i>.</p>
      <p>Get them and browse the source code at
        <a href="https://github.com/theNestruo/pcxtools">github.com/theNestruo/pcxtools
          </a></p>
      <p>Happy coding!!</p>
      <h3>Update
        <small><a href="#link-2025-12-09">Dec 9, 2025</a></small></h3>
      <p>Major version 4.0 released</p>
    </details>

    <details>
      <summary>Youkai Yashiki - Graphics patch
          <small><a id="link-2021-07-08" href="#link-2021-07-08"><i class="bi-share-fill"></i> Jul 8, 2021</a></small>
      </summary>

      <p><a href="https://twitter.com/yazioh/status/1402255582363414534">One month ago</a>,
				these superb graphics by
        <a href="https://twitter.com/yazioh">yazioh</a>
        were just a mock-up of
        <i><a href="https://www.generation-msx.nl/software/casio/ghost-house/874/">Youkai Yashiki (CASIO, 1986)</a>,
				also known as
        <i>Ghost House</i>, for MSX.</p>
      <p class="center"><img src="./images/YoukaiYashiki-mockup.png" loading="lazy"></p>
      <p>Today, you can play with those graphics!</p>
      <p class="center"><img src="./images/YoukaiYashiki-GraphicsPatch-screenshot-0.png" loading="lazy">
        <img src="./images/YoukaiYashiki-GraphicsPatch-screenshot-1.png" loading="lazy">
        <img src="./images/YoukaiYashiki-GraphicsPatch-screenshot-2.png" loading="lazy">
        <img src="./images/YoukaiYashiki-GraphicsPatch-screenshot-3.png" loading="lazy">
        <img src="./images/YoukaiYashiki-GraphicsPatch-screenshot-4.png" loading="lazy">
        <img src="./images/YoukaiYashiki-GraphicsPatch-screenshot-5.png" loading="lazy"></p>
      <p>The graphical patch for the game is offered in two flavours:<ul>
          <li>JP, with the original items (onigiri, omamori, geta shoes&hellip;) and original ending message</li>
          <li>EN, with reworked items (hamburguer, four leaf clover, sneakers&hellip;) and translated ending message.</li>
        </ul></p>
      <p>Additionally, a minipatch is provided for those who want to play with enhancements but using the original graphics.</p>
      <p>Get it here:
        <a href="./files/Youkai Yashiki - Graphics patch v1.1 (Yazioh & Nestruo, 2021-07-12).zip" download>
          <i class="bi-download"></i>&nbsp;Youkai Yashiki - Graphics patch v1.1 (Yazioh & Nestruo, 2021-07-12).zip</a></p>
      <p>Enjoy!!</p>
    </details>

    <details>
      <summary>Pyramid Warp Enhanced+
          <small><a id="link-2021-05-26" href="#link-2021-05-26"><i class="bi-share-fill"></i> May 26, 2021</a></small>
      </summary>

      <p>Can you spot the differences between the original MSX
        <i><a href="https://www.generation-msx.nl/software/tesoft/pyramid-warp/64/">Pyramid Warp (T&E soft, 1983)</a>
        and the Enhanced+ version?</p>
      <p class="center"><img src="./images/PyramidWarp-screenshot-0.png" loading="lazy">
        <img src="./images/PyramidWarp-screenshot-1.png" loading="lazy"><br>
        <img src="./images/PyramidWarpEX-screenshot-0.png" loading="lazy">
        <img src="./images/PyramidWarpEX-screenshot-1.png" loading="lazy"></p>
      <p>With music by
        <a href="https://twitter.com/bitcaffe">bitcaffe</a>
        and graphics by
        <a href="https://twitter.com/nenefranz">nenefranz</a></p>
      <p>Get it here:
        <a href="https://github.com/theNestruo/msx-pyramidwarpex/releases/download/1.1/PyramidWarp.enhancedplus.rom">
          <i class="bi-download"></i>&nbsp;PyramidWarp.enhancedplus.rom</a></p>
      <p>Browse the source code, including an annotated disassembly of the original
        <i>Pyramid Warp (T&E soft, 1983)</i>, at
        <a href="https://github.com/theNestruo/msx-pyramidwarpex">github.com/theNestruo/msx-pyramidwarpex
          </a></p>
      <p>Enjoy!!</p>
    </details>

    <details>
      <summary>Dark- (VSCode theme) released
          <small><a id="link-2021-04-23" href="#link-2021-04-23"><i class="bi-share-fill"></i> Apr 23, 2021</a></small>
      </summary>

      <p>Simple dark themes, based on the default Dark (Visual Studio) theme but with less syntax highlight.</p>
      <p class="center"><img src="./images/Dark--screenshot.png" loading="lazy"></p>
      <p>Get them here:
        <a href="https://marketplace.visualstudio.com/items?itemName=theNestruo.dark-minus-theme">Dark-</a></p>
      <p>Browse the source code at
        <a href="https://github.com/theNestruo/dark-minus-theme-vscode">github.com/theNestruo/dark-minus-theme-vscode</a></p>
      <p>Happy coding!!</p>
    </details>

    <details>
      <summary>Stevedore
          <small><a id="link-2020-10-19" href="#link-2020-10-19"><i class="bi-share-fill"></i> Oct 19, 2020</a></small>
      </summary>

      <p class="center"><img src="./images/Stevedore-packaging.jpg" loading="lazy"></p>
      <p>Available now at
        <a href="https://msxcartridgeshop.com">MSX Cartridge Shop</a>!</p>

      <h3>Update
        <small><a href="#link-2021-10-18">Oct 18, 2021</a></small></h3>
      <p>You can now play (and download) for free</p>

      <h3>Update
        <small><a href="#link-2022-10-18">Oct 18, 2022</a></small></h3>
      <p>You can now download the original soundtrack</p>
    </details>

    <details>
      <summary>Z80 Assembly meter v1.0.0
          <small><a id="link-2020-03-08" href="#link-2020-03-08"><i class="bi-share-fill"></i> Mar 8, 2020</a></small>
      </summary>

      <p>The Z80 Assembly meter extension for Visual Studio Code reaches version 1.0.0
				and gains support for Z80N (ZX Spectrum Next Extended Z80 instruction set).</p>

      <h3>Update
        <small><a href="#link-2021-11-18">Nov 18, 2021</a></small></h3>
      <p>Major version 2.0.0 released</p>

      <h3>Update
        <small><a href="#link-2022-02-19">Feb 19, 2022</a></small></h3>
      <p>Major version 3.0.0 released</p>

      <h3>Update
        <small><a href="#link-2023-08-17">Aug 17, 2023</a></small></h3>
      <p>Major version 4.0.0 released</p>

      <h3>Update
        <small><a href="#link-2025-07-02">Jul 2, 2025</a></small></h3>
      <p>Major version 6.0.0 released</p>
    </details>

    <details>
      <summary>Z80 Assembly meter (VSCode extension) released
          <small><a id="link-2020-09-14" href="#link-2020-09-14"><i class="bi-share-fill"></i> Sep 14, 2020</a></small>
      </summary>

      <p>The Z80 Assembly meter extension for Visual Studio Code meters clock cycles and bytecode size from Z80 assembly source code.</p>
      <h3>Update
        <small><a href="#link-2020-03-08">Mar 8, 2020</a></small></h3>
      <p>Major version 1.0.0 released</p>
      <h3>Update
        <small><a href="#link-2021-11-18">Nov 18, 2021</a></small></h3>
      <p>Major version 2.0.0 released</p>
      <h3>Update
        <small><a href="#link-2022-02-19">Feb 19, 2022</a></small></h3>
      <p>Major version 3.0.0 released</p>
      <h3>Update
        <small><a href="#link-2023-08-17">Aug 17, 2023</a></small></h3>
      <p>Major version 4.0.0 released</p>
      <h3>Update
        <small><a href="#link-2025-07-02">Jul 2, 2025</a></small></h3>
      <p>Major version 6.0.0 released</p>
    </details>

    <details>
      <summary>Congratulations, P&eacute;rez the Mouse!
          <small><a id="link-2012-02-05" href="#link-2012-02-05"><i class="bi-share-fill"></i> Feb 5, 2012</a></small>
      </summary>

      <p>Congratulations, P&eacute;rez the Mouse!</p>
      <p>P&eacute;rez the Mouse
        <a id="link-2012-02-05" href="https://www.msxblog.es/concurso-msx-basic-2011-resultados-finales/">won first place in the MSX-BASIC Contest 2011</a>!</p>
      <p>Let's celebrate by revealing a little secret... Did you know there is an hidden jukebox in the cassette?</p>
      <p class="center"><img src="./images/PerezTheMouse-screenshot-4.png" loading="lazy">
        <img src="./images/PerezTheMouse-screenshot-5.png" loading="lazy"></p>
      <p>Get it here:
        <a href="./files/Perez the Mouse v1.1 (theNestruo & Wonder, 2011-12-09).zip" download>
          <i class="bi-download"></i>&nbsp;Perez the Mouse v1.1 (theNestruo & Wonder, 2011-12-09).zip</a></p>
      <p>Have fun!!</p>
    </details>

    <details>
      <summary>P&eacute;rez the Mouse
          <small><a id="link-2011-10-26" href="#link-2011-10-26"><i class="bi-share-fill"></i> Oct 26, 2011</a></small>
      </summary>

      <p>P&eacute;rez the Mouse presented to
        <a href="https://www.msxblog.es/">MSXBlog</a>'s
        <a href="https://www.msxblog.es/category/concurso-msx-basic-2011/">MSX-BASIC Contest 2011</a>!</p>
      <p class="center"><img src="./images/PerezTheMouse-screenshot-0.png" loading="lazy">
        <img src="./images/PerezTheMouse-screenshot-1.png" loading="lazy"><br>
        <img src="./images/PerezTheMouse-screenshot-2.png" loading="lazy">
        <img src="./images/PerezTheMouse-screenshot-3.png" loading="lazy"></p>
      <p>With music by Wonder</p>
      <p>Get it here:
        <a href="./files/Perez the Mouse v1.1 (theNestruo & Wonder, 2011-12-09).zip" download>
          <i class="bi-download"></i>&nbsp;Perez the Mouse v1.1 (theNestruo & Wonder, 2011-12-09).zip</a></p>
      <p>Enjoy!!</p>

      <h3>Update
        <small><a href="https://www.msxblog.es/concurso-msx-basic-2011-perez-the-mouse-v1-1/">Dec 13</a></small></h3>
      <p>Contest entry updated! More graphics, more difficulty levels, more musics, and faster gameplay!</p>

      <h3>Update
        <small><a href="#link-2012-02-05">Feb 5, 2012</a></small></h3>
      <p>P&eacute;rez the Mouse won first place in the MSX-BASIC Contest 2011!</p>
    </details>

    <footer>
      <p><a href="https://github.com/theNestruo"><i class="bi-github"></i> github.com/theNestruo</a></p>
      <p><a href="https://thenestruo.itch.io/"><i class="bi-controller"></i> theNestruo.itch.io</a></p>
      <p><a href="https://marketplace.visualstudio.com/publishers/theNestruo"><i class="bi-microsoft"></i> marketplace.visualstudio.com/publishers/theNestruo</a></p>
      <p>Made with <a href="https://watercss.kognise.dev/"><i class="bi-filetype-css"></i> Water.css</a>
        and <a href="https://icons.getbootstrap.com/"><i class="bi-bootstrap"></i> Bootstrap Icons</a><br>
        Hosted in <a href="https://pages.github.com/"><i class="bi-github"></i> GitHub pages </a></p>
    </footer>

    <script src="./index.js" defer></script>
    <script src="./stevedore-password-generator.js" defer></script>
  </body>
</html>
